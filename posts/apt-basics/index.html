<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Personal blog of computer graphics artist Andrew V. Andrew specializes in 3D, animation and visual effects. Creator of the tabletop roleplaying game Amber Arcadia.">
    <meta property="og:title" content="Essential APT Commands: A Quick Reference " />
<meta property="og:description" content="Looking for a handy reference guide to navigate APT commands efficiently? This article provides an overview of essential APT commands, enabling you to install, update, remove, and troubleshoot software packages on your Linux system." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.andrew-v.com/posts/apt-basics/" /><meta property="og:image" content="https://blog.andrew-v.com/package-manager.jpg" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-14T13:56:41+02:00" />
<meta property="article:modified_time" content="2024-02-14T13:56:41+02:00" />

    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://blog.andrew-v.com/package-manager.jpg"/>

<meta name="twitter:title" content="Essential APT Commands: A Quick Reference "/>
<meta name="twitter:description" content="Looking for a handy reference guide to navigate APT commands efficiently? This article provides an overview of essential APT commands, enabling you to install, update, remove, and troubleshoot software packages on your Linux system."/>

    
    <link href="/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/bootstrap-icons.css">
    <link rel="stylesheet" href="/style.css">
    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon">
    <title>Essential APT Commands: A Quick Reference </title>
</head>
<body class="container">
    <div class="d-flex flex-column justify-content-center d-lg-flex flex-lg-row justify-content-lg-between py-4 align-items-center d-sm-flex flex-sm-column justify-content-sm-center my-4 pb-3 mb-4 border-bottom">
    <a href="#" class="text-decoration-none text-black" target=""><p class="d-none d-lg-inline pt-3">Art, Programming, Linux</p></a>
    <a href="/" class="text-decoration-none"> <h1 class="display-4 brand">Andrew&#39;s notes</h1></a>
    <div class="d-flex flex-row justify-content-lg-between mt-4 mt-lg-1">
        <a href="/" class="nav-link text-dark pe-4" aria-current="page">Home</a>
        <a href="/posts" class="nav-link text-dark pe-4">Posts</a>
        <a href="/tags" class="nav-link text-dark">Tags</a>
    </div>
</div>





    
<div class="pt-3 mt-3 ">
    <div class="mb-4">
        <h1 class="display-6 mb-3 fw-bold" id="#">Essential APT Commands: A Quick Reference </h1>
        <p class="fs-4 mb-4">Looking for a handy reference guide to navigate APT commands efficiently? This article provides an overview of essential APT commands, enabling you to install, update, remove, and troubleshoot software packages on your Linux system.</p>
        <div class="">
            <p class="text-muted">Published on February 14, 2024 <span class="bi bi-dot"> 834 words </span><span class="bi bi-dot"> 4 min read</span>
            
                <span class="bi bi-dot "></span>
                
                
                
                <a href="https://blog.andrew-v.com/tags/linux/" class="text-decoration-none"><span
                        class="bg-primary text-white px-2 py-2  rounded">Linux</span>
                </a>
                
            
            </p>
        </div>

    </div>
    <div class="my-4"
        style="border:none;background-image:url(/package-manager.jpg);background-size:cover ;background-position: center; height:400px; border-radius:5px; width: 100%;"></div>
    <i class="text-muted">Image by Jiawei Zhao</i>
    <div class="mb-5">
    
    <h4 class="mt-4">Contents</h4>
        <nav id="TableOfContents">
  <ol>
    <li><a href="#installing-packages">Installing Packages</a>
      <ol>
        <li><a href="#which-package-provides-a-file-">Which package provides a file ?</a></li>
      </ol>
    </li>
    <li><a href="#updating-packages">Updating Packages</a>
      <ol>
        <li><a href="#pinning-packages">Pinning Packages</a></li>
      </ol>
    </li>
    <li><a href="#removing-packages">Removing Packages</a></li>
    <li><a href="#managing-repositories">Managing Repositories</a></li>
  </ol>
</nav>
    </div>
    
    <div class="fs-5 my-3">
        <p>The well known APT or Advanced Package Tool is a commandline package manager used in Debian based linux distributions. It provides commands for searching, managing and querying information about packages. In this article we will illustrate its basic commands and options.</p>


<h2 id="installing-packages" class="hoverMe">
    Installing Packages 
    <a href="#installing-packages" class="text-decoration-none"> # </a>
</h2>
<p>The most basic functionality of any package manager is to be able to install packages. Apt allows for the installation of single or multiple packages as well as <code>.deb</code> files. To install a single package with apt we use the following structure.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install packageName
</span></span></code></pre></div><p>Sometimes we want to install a specific version of a package:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install <span style="color:#033">apache2</span><span style="color:#555">=</span>2.4.55-1ubuntu2
</span></span></code></pre></div><p>To install multiple packages we simply add another package name to our command.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install packageName1 packageName2
</span></span></code></pre></div><p>If you have already downloaded a .deb package locally and you wish to install it you simply provide apt with the package&rsquo;s location on your system instead of its package name.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install /home/andrew/Downloads/obsidian_1.5.3_amd64.deb
</span></span></code></pre></div><p>To reinstall a package use the <code>reinstall</code> option.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt reinstall packageName
</span></span></code></pre></div><p>To view all packages available to the system use <code>list</code>. To view all installed packages you use <code>list --installed</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt list
</span></span><span style="display:flex;"><span>sudo apt list --installed
</span></span></code></pre></div><p>To see if a package is installed or not with apt you can copy the following command. The <code>-qq</code> flag is an option to query the following package. Using <code>-q</code> returns the same results. Alternatively you can use <code>grep</code> to filter through the results of <code>apt list --installed</code> via <strong>pipe</strong>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt -qq list packageName
</span></span><span style="display:flex;"><span>sudo apt list --installed | grep packageName
</span></span></code></pre></div><p>You can search for a package in the repositories using the <code>search</code> option and to view the details of a package you use the <code>show</code> option.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt search packageName
</span></span><span style="display:flex;"><span>sudo apt show packageName
</span></span></code></pre></div><p>To view all the dependencies of a package:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt depends packageName
</span></span></code></pre></div><p>To locate an installed package type the following command. The <code>-L</code> flag is the option that lists all directories associated with the package.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo dpkg -L packageName
</span></span></code></pre></div>

<h3 id="which-package-provides-a-file-" class="hoverMe">
    Which package provides a file ? 
    <a href="#which-package-provides-a-file-" class="text-decoration-none"> # </a>
</h3>
<p>Sometimes we are trying to install a package only to be met with some errors about some missing files. We can search apt for those files in order to find out which package provides them and install them. To do so we need the <code>apt-file</code> package.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>apt-file search fileName
</span></span></code></pre></div>

<h2 id="updating-packages" class="hoverMe">
    Updating Packages 
    <a href="#updating-packages" class="text-decoration-none"> # </a>
</h2>
<p>The <code>update</code> option of the apt tool allows us looks for updates for all our installed packages and returns a list with all packages that can be updated. We can then run the <code>upgrade</code> option to upgrade some or all. The upgrade command by default upgrades all packages except for those that create a problem with their dependencies. To upgrade these packages you need to use <code>dist-upgrade</code> instead of <code>upgrade</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt update
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt upgrade
</span></span></code></pre></div><p>To upgrade just a specific package you use the following syntax:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt upgrade packageName
</span></span></code></pre></div>

<h3 id="pinning-packages" class="hoverMe">
    Pinning Packages 
    <a href="#pinning-packages" class="text-decoration-none"> # </a>
</h3>
<p>It is possible to &ldquo;pin&rdquo; packages to specific versions so that they do not update even if a new version becomes available. To do so you need to create a file in <code>/etc/apt/preferences.d/</code> and specify three things - the package, the version, and the pin priority. In this case we&rsquo;ll call the file repository-priority and use nano to edit the files.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano /etc/apt/preferences.d/repository-priority 
</span></span></code></pre></div><p>Add the following lines:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Package: example-package 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Pin: version 1.2.3 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Pin-Priority: <span style="color:#f60">1001</span>
</span></span></code></pre></div><p><strong>NOTE</strong>: Pin priority is a setting which is very useful when multiple repositories offer the same package. It determines which repository gains what priority.</p>


<h2 id="removing-packages" class="hoverMe">
    Removing Packages 
    <a href="#removing-packages" class="text-decoration-none"> # </a>
</h2>
<p>To remove a package we use the <code>remove</code> option. Similar to installing multiple packages, to remove more than one simply add its package name to the commandline.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt remove packageName1 packageName2
</span></span></code></pre></div><p>To remove unnecessary packages we can use the <code>autoremove</code> option. This option uninstalls any dependency that is not required by any installed packages.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt autoremove
</span></span></code></pre></div><p>To uninstall a package alongside its configuration files we use the <code>purge</code> option. You can purge more than one package in a single command like you can install or remove multiple packages. The formatting remains the same, simply add its package name to the command.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt purge packageName1 packageName2
</span></span></code></pre></div>

<h2 id="managing-repositories" class="hoverMe">
    Managing Repositories 
    <a href="#managing-repositories" class="text-decoration-none"> # </a>
</h2>
<p>To add repositories to APT there are two steps we need to follow with the first being optional and depends on the repository. The first is to add a GPG key associated with the repository to our system and the second is to add the repository itself. The form of the command to add a repository looks like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>add-apt-repository <span style="color:#555">[</span>OPTIONS<span style="color:#555">]</span> <span style="color:#555">[</span>Repository URL<span style="color:#555">]</span>
</span></span></code></pre></div><p>Suppose you want to add the <code>wine</code> repository to debian and then remove it. To add it you fill in the repository URL with wine&rsquo;s repository. Always <code>apt update</code> after adding a repository.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo add-apt-repository <span style="color:#c30">&#39;deb https://dl.winehq.org/wine-builds/debian bookworm main&#39;</span>
</span></span></code></pre></div><p>To remove it you add <code>--remove</code> as an option.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bas" data-lang="bas"><span style="display:flex;"><span>sudo<span style="color:#bbb"> </span>add<span style="color:#555">-</span>apt<span style="color:#555">-</span>repository<span style="color:#bbb"> </span><span style="color:#555">--</span>remove<span style="color:#bbb"> </span><span style="color:#09f;font-style:italic">&#39;deb https://dl.winehq.org/wine-builds/debian bookworm main&#39;</span>
</span></span></code></pre></div><p>If you want to remove all the unused old repositories then you can use the following command:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt autoclean
</span></span></code></pre></div>
    </div>
    <div class="">
        
        <p>---</p>
       <div id="donate-button-container">
            <div id="donate-button"></div>
                <script src="https://www.paypalobjects.com/donate/sdk/donate-sdk.js" charset="UTF-8"></script>
                <script>
                PayPal.Donation.Button({
                env:'production',
                hosted_button_id:'JXV4HE8J74PJY',
                image: {
                src:'https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif',
                alt:'Donate with PayPal button',
                title:'PayPal - The safer, easier way to pay online!',
                }
                }).render('#donate-button');
                </script>
            </div>

        <p class="text-muted mt-2">If you found this post useful please consider donating a small amount to support my effort in creating more content like this.</p>
            
        
    </div>
</div>



    
     <footer class="py-3 mt-5 container border-top">
    
    <div class="d-flex flex-row justify-content-center fs-4 pt-3">
        <a href="https://www.github.com/dark-side-droid" title="Visit my Github" class="text-black" target="_blank"><i class="bi bi-github pe-4"></i></a>
        <a href="https://t.me/+cH3f1gJUqCY2NTI0" title="Stay updated on Telegram" class="text-black" target="_blank"><i class="bi bi-telegram pe-4"></i></a>
        <a href="/index.xml" title="View the RSS sitemap" class="text-black" target="_blank"><i class="bi bi-rss-fill "></i></a>
    </div>
    <p class="text-center pt-4"> &copy; 2024 Andrew V | All rights reserved</p>
</footer>

    
</body>

</html>
